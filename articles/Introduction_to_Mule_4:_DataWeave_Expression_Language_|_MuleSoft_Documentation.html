<article class="doc">
 <h1 class="page">
  Introduction to Mule 4: DataWeave Expression Language
 </h1>
 <div id="preamble">
  <div class="sectionbody">
   <div class="paragraph">
    <p>
     In Mule 3, you must learn both the Mule Expression Language (MEL) and DataWeave. MEL forces you to convert your payloads from binary data (such as XML or JSON documents) into Java objects so that you can write expressions that access that data, for example, when routing to a specific location.
    </p>
   </div>
   <div class="paragraph">
    <p>
     In Mule 4, DataWeave is the default expression language. Combined with the built-in streaming capabilities, this change simplifies many common tasks:
    </p>
   </div>
   <div class="ulist">
    <ul>
     <li>
      <p>
       Events can be routed based on payload data, without requiring conversion to Java objects.
      </p>
     </li>
     <li>
      <p>
       Binary data can easily be queried from an expression anywhere in your flow, for example, when logging.
      </p>
     </li>
     <li>
      <p>
       Streaming now happens transparently. You no longer need to worry about larger-than-memory data streams or about consuming a stream twice.
      </p>
     </li>
    </ul>
   </div>
   <div class="paragraph">
    <p>
     DataWeave 2.0 also features many improvements, which are covered in the
     <a class="xref page" href="intro-dataweave2">
      DataWeave 2.0
     </a>
     section.
    </p>
   </div>
   <div class="paragraph">
    <p>
     At the core, expressions continue to work as before. You can use them to extract data, log data, or make decisions about where to route data. And like MEL, the syntax to access properties in your data is very simple.
    </p>
   </div>
   <div class="listingblock">
    <div class="content">
     <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;logger message="#[payload]"/&gt;
&lt;set-variable variableName="httpResponseStatus" value="#[attributes.statusCode]"/&gt;</code></pre>
    </div>
   </div>
   <div class="paragraph">
    <p>
     Unlike MEL, you can use DataWeave to easily access data anywhere in your flow without concern for transforming it into intermediate objects. Consider this example in Mule 3:
    </p>
   </div>
   <div class="listingblock">
    <div class="content">
     <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;http:listener path="/hello"/&gt; &lt;!-- receives a JSON HTTP Body --&gt;
&lt;json:json-to-object/&gt; &lt;!-- convert to Java objects --&gt;
&lt;choice&gt; &lt;!-- route data based on the data --&gt;
  &lt;when expression="#[payload.customer == 'Acme, Inc']"&gt;
    &lt;!-- do some logic --&gt;
  &lt;/when&gt;
&lt;/choice&gt;</code></pre>
    </div>
   </div>
   <div class="paragraph">
    <p>
     In Mule 4, you no longer need to convert JSON to an intermediate format. You can simply access the data directly through expressions without losing the original underlying data, and Mule 4 handles all data streaming and random access transparently for you.
    </p>
   </div>
   <div class="listingblock">
    <div class="content">
     <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;http:listener path="/hello"/&gt; &lt;!-- receives a JSON HTTP Body --&gt;
&lt;choice&gt; &lt;!-- route data based on the data --&gt;
  &lt;when expression="#[payload.customer == 'Acme, Inc']"&gt;
    &lt;!-- do some logic --&gt;
  &lt;/when&gt;
&lt;/choice&gt;</code></pre>
    </div>
   </div>
  </div>
 </div>
 <div class="sect1">
  <h2 id="see-also">
   <a class="anchor" href="#see-also">
   </a>
   See Also
  </h2>
  <div class="sectionbody">
   <div class="paragraph">
    <p>
     <a class="xref page" href="intro-transformations">
      Transformations and Streaming
     </a>
    </p>
   </div>
   <div class="paragraph">
    <p>
     <a class="xref page" href="migration-dataweave">
      Migrating from DataWeave 1.0 to 2.x
     </a>
    </p>
   </div>
   <div class="paragraph">
    <p>
     <a class="xref page" href="dataweave">
      DataWeave Language
     </a>
    </p>
   </div>
  </div>
 </div>
</article>
